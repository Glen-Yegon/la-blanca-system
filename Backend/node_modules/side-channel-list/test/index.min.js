"use strict";var test=require("tape"),getSideChannelList=require("../");test("getSideChannelList",function(e){e.test("export",function(e){e.equal(typeof getSideChannelList,"function","is a function"),e.equal(getSideChannelList.length,0,"takes no arguments");var t=getSideChannelList();e.ok(t,"is truthy"),e.equal(typeof t,"object","is an object"),e.end()}),e.test("assert",function(e){var t=getSideChannelList();e.throws(function(){t.assert({})},TypeError,"nonexistent value throws");var s={};t.set(s,"data"),e.doesNotThrow(function(){t.assert(s)},"existent value noops"),e.end()}),e.test("has",function(e){var t=getSideChannelList(),s=[];e.equal(t.has(s),!1,"nonexistent value yields false"),t.set(s,"foo"),e.equal(t.has(s),!0,"existent value yields true"),e.equal(t.has("abc"),!1,"non object value non existent yields false"),t.set("abc","foo"),e.equal(t.has("abc"),!0,"non object value that exists yields true"),e.end()}),e.test("get",function(e){var t=getSideChannelList(),s={};e.equal(t.get(s),void 0,"nonexistent value yields undefined");var n={};t.set(s,n),e.equal(t.get(s),n,'"get" yields data set by "set"'),e.end()}),e.test("set",function(e){var t=getSideChannelList(),s=function(){};e.equal(t.get(s),void 0,"value not set"),t.set(s,42),e.equal(t.get(s),42,"value was set"),t.set(s,1/0),e.equal(t.get(s),1/0,"value was set again");var n={};t.set(n,17),e.equal(t.get(s),1/0,"o is not modified"),e.equal(t.get(n),17,"o2 is set"),t.set(s,14),e.equal(t.get(s),14,"o is modified"),e.equal(t.get(n),17,"o2 is not modified"),e.end()}),e.test("delete",function(e){var t=getSideChannelList(),s={};e.equal(t.delete({}),!1,"nonexistent value yields false"),t.set(s,42),e.equal(t.has(s),!0,"value is set"),e.equal(t.delete({}),!1,"nonexistent value still yields false"),e.equal(t.delete(s),!0,"deleted value yields true"),e.equal(t.has(s),!1,"value is no longer set"),e.end()}),e.end()});