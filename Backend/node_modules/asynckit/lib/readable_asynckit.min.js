var streamify=require("./streamify.js"),defer=require("./defer.js");function ReadableAsyncKit(){ReadableAsyncKit.super_.apply(this,arguments),this.jobs={},this.destroy=destroy,this._start=_start,this._read=_read}function destroy(){this.destroyed||(this.destroyed=!0,"function"==typeof this.terminator&&this.terminator())}function _start(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1),r=e[0],s=streamify.callback.call(this,e[e.length-1]);e[e.length-1]=s,e[1]=streamify.iterator.call(this,e[1]),defer(function(){this.destroyed?s(null,Array.isArray(r)?[]:{}):this.terminator=t.apply(null,e)}.bind(this))}function _read(){}module.exports=ReadableAsyncKit;