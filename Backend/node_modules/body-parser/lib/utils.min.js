"use strict";var bytes=require("bytes"),contentType=require("content-type"),typeis=require("type-is");function getCharset(e){try{return(contentType.parse(e).parameters.charset||"").toLowerCase()}catch{return}}function typeChecker(e){return function(t){return Boolean(typeis(t,e))}}function normalizeOptions(e,t){if(!t)throw new TypeError("defaultType must be provided");var r=!1!==e?.inflate,n="number"!=typeof e?.limit?bytes.parse(e?.limit||"100kb"):e?.limit,i=e?.type||t,o=e?.verify||!1,s=e?.defaultCharset||"utf-8";if(!1!==o&&"function"!=typeof o)throw new TypeError("option verify must be function");return{inflate:r,limit:n,verify:o,defaultCharset:s,shouldParse:"function"!=typeof i?typeChecker(i):i}}function passthrough(e){return e}module.exports={getCharset:getCharset,normalizeOptions:normalizeOptions,passthrough:passthrough};