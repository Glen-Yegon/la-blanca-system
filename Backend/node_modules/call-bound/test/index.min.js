"use strict";var test=require("tape"),callBound=require("../");test("callBound",function(t){t.equal(callBound("Array.length"),Array.length,"Array.length yields itself"),t.equal(callBound("%Array.length%"),Array.length,"%Array.length% yields itself"),t.equal(callBound("Array.prototype"),Array.prototype,"Array.prototype yields itself"),t.equal(callBound("%Array.prototype%"),Array.prototype,"%Array.prototype% yields itself"),t.equal(callBound("Array.constructor"),Array.constructor,"Array.constructor yields itself"),t.equal(callBound("%Array.constructor%"),Array.constructor,"%Array.constructor% yields itself"),t.equal(callBound("Date.parse"),Date.parse,"Date.parse yields itself"),t.equal(callBound("%Date.parse%"),Date.parse,"%Date.parse% yields itself"),t.equal(callBound("Error.prototype.message"),Error.prototype.message,"Error.prototype.message yields itself"),t.equal(callBound("%Error.prototype.message%"),Error.prototype.message,"%Error.prototype.message% yields itself");var r=callBound("Object.prototype.toString"),e=callBound("%Object.prototype.toString%");t.notEqual(r,Object.prototype.toString,"Object.prototype.toString does not yield itself"),t.notEqual(e,Object.prototype.toString,"%Object.prototype.toString% does not yield itself"),t.equal(r(!0),Object.prototype.toString.call(!0),"call-bound Object.prototype.toString calls into the original"),t.equal(e(!0),Object.prototype.toString.call(!0),"call-bound %Object.prototype.toString% calls into the original"),t.throws(function(){callBound("does not exist")},SyntaxError,"nonexistent intrinsic throws"),t.throws(function(){callBound("does not exist",!0)},SyntaxError,"allowMissing arg still throws for unknown intrinsic"),t.test("real but absent intrinsic",{skip:"undefined"!=typeof WeakRef},function(t){t.throws(function(){callBound("WeakRef")},TypeError,"real but absent intrinsic throws"),t.equal(callBound("WeakRef",!0),void 0,"allowMissing arg avoids exception"),t.end()}),t.end()});