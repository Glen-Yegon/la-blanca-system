/*!
 * media-typer
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */
"use strict";var SUBTYPE_NAME_REGEXP=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,TYPE_NAME_REGEXP=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,TYPE_REGEXP=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;function format(r){if(!r||"object"!=typeof r)throw new TypeError("argument obj is required");var e=r.subtype,t=r.suffix,i=r.type;if(!i||!TYPE_NAME_REGEXP.test(i))throw new TypeError("invalid type");if(!e||!SUBTYPE_NAME_REGEXP.test(e))throw new TypeError("invalid subtype");var s=i+"/"+e;if(t){if(!TYPE_NAME_REGEXP.test(t))throw new TypeError("invalid suffix");s+="+"+t}return s}function test(r){if(!r)throw new TypeError("argument string is required");if("string"!=typeof r)throw new TypeError("argument string is required to be a string");return TYPE_REGEXP.test(r.toLowerCase())}function parse(r){if(!r)throw new TypeError("argument string is required");if("string"!=typeof r)throw new TypeError("argument string is required to be a string");var e=TYPE_REGEXP.exec(r.toLowerCase());if(!e)throw new TypeError("invalid media type");var t,i=e[1],s=e[2],n=s.lastIndexOf("+");return-1!==n&&(t=s.substr(n+1),s=s.substr(0,n)),new MediaType(i,s,t)}function MediaType(r,e,t){this.type=r,this.subtype=e,this.suffix=t}exports.format=format,exports.parse=parse,exports.test=test;