/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */
"use strict";var deprecate=require("depd")("http-errors"),setPrototypeOf=require("setprototypeof"),statuses=require("statuses"),inherits=require("inherits"),toIdentifier=require("toidentifier");function codeClass(e){return Number(String(e).charAt(0)+"00")}function createError(){for(var e,r,t=500,o={},s=0;s<arguments.length;s++){var n=arguments[s],a=typeof n;if("object"===a&&n instanceof Error)t=(e=n).status||e.statusCode||t;else if("number"===a&&0===s)t=n;else if("string"===a)r=n;else{if("object"!==a)throw new TypeError("argument #"+(s+1)+" unsupported type "+a);o=n}}"number"==typeof t&&(t<400||t>=600)&&deprecate("non-error status code; use only 4xx or 5xx status codes"),("number"!=typeof t||!statuses.message[t]&&(t<400||t>=600))&&(t=500);var u=createError[t]||createError[codeClass(t)];for(var c in e||(e=u?new u(r):new Error(r||statuses.message[t]),Error.captureStackTrace(e,createError)),u&&e instanceof u&&e.status===t||(e.expose=t<500,e.status=e.statusCode=t),o)"status"!==c&&"statusCode"!==c&&(e[c]=o[c]);return e}function createHttpErrorConstructor(){function e(){throw new TypeError("cannot construct abstract class")}return inherits(e,Error),e}function createClientErrorConstructor(e,r,t){var o=toClassName(r);function s(e){var r=null!=e?e:statuses.message[t],n=new Error(r);return Error.captureStackTrace(n,s),setPrototypeOf(n,s.prototype),Object.defineProperty(n,"message",{enumerable:!0,configurable:!0,value:r,writable:!0}),Object.defineProperty(n,"name",{enumerable:!1,configurable:!0,value:o,writable:!0}),n}return inherits(s,e),nameFunc(s,o),s.prototype.status=t,s.prototype.statusCode=t,s.prototype.expose=!0,s}function createIsHttpErrorFunction(e){return function(r){return!(!r||"object"!=typeof r)&&(r instanceof e||r instanceof Error&&"boolean"==typeof r.expose&&"number"==typeof r.statusCode&&r.status===r.statusCode)}}function createServerErrorConstructor(e,r,t){var o=toClassName(r);function s(e){var r=null!=e?e:statuses.message[t],n=new Error(r);return Error.captureStackTrace(n,s),setPrototypeOf(n,s.prototype),Object.defineProperty(n,"message",{enumerable:!0,configurable:!0,value:r,writable:!0}),Object.defineProperty(n,"name",{enumerable:!1,configurable:!0,value:o,writable:!0}),n}return inherits(s,e),nameFunc(s,o),s.prototype.status=t,s.prototype.statusCode=t,s.prototype.expose=!1,s}function nameFunc(e,r){var t=Object.getOwnPropertyDescriptor(e,"name");t&&t.configurable&&(t.value=r,Object.defineProperty(e,"name",t))}function populateConstructorExports(e,r,t){r.forEach(function(r){var o,s=toIdentifier(statuses.message[r]);switch(codeClass(r)){case 400:o=createClientErrorConstructor(t,s,r);break;case 500:o=createServerErrorConstructor(t,s,r)}o&&(e[r]=o,e[s]=o)})}function toClassName(e){return"Error"===e.slice(-5)?e:e+"Error"}module.exports=createError,module.exports.HttpError=createHttpErrorConstructor(),module.exports.isHttpError=createIsHttpErrorFunction(module.exports.HttpError),populateConstructorExports(module.exports,statuses.codes,module.exports.HttpError);