"use strict";var test=require("tape"),hasToStringTag=require("has-tostringtag/shams")(),hasOwn=require("hasown"),setToStringTag=require("../");test("setToStringTag",function(t){t.equal(typeof setToStringTag,"function","is a function");var e={},a={};setToStringTag(e,a),t.throws(function(){setToStringTag(e,a,{force:"yes"})},TypeError,"throws if options is not an object"),t.test("has Symbol.toStringTag",{skip:!hasToStringTag},function(t){t.ok(hasOwn(e,Symbol.toStringTag),"has toStringTag property"),t.equal(e[Symbol.toStringTag],a,"toStringTag property is as expected"),t.equal(String(e),"[object Object]","toStringTag works");var r={};r[Symbol.toStringTag]="already tagged",t.equal(String(r),"[object already tagged]","toStringTag works"),setToStringTag(r,"new tag"),t.equal(String(r),"[object already tagged]","toStringTag is unchanged"),setToStringTag(r,"new tag",{force:!0}),t.equal(String(r),"[object new tag]","toStringTag is changed with force: true"),t.deepEqual(Object.getOwnPropertyDescriptor(r,Symbol.toStringTag),{configurable:!0,enumerable:!1,value:"new tag",writable:!1},"has expected property descriptor"),setToStringTag(r,"new tag",{force:!0,nonConfigurable:!0}),t.deepEqual(Object.getOwnPropertyDescriptor(r,Symbol.toStringTag),{configurable:!1,enumerable:!1,value:"new tag",writable:!1},"is nonconfigurable"),t.end()}),t.test("does not have Symbol.toStringTag",{skip:hasToStringTag},function(t){var a=!0;for(var r in e)hasOwn(e,r)&&(t.fail("object has own key "+r),a=!1);a&&t.ok(!0,"object has no enumerable own keys"),t.end()}),t.end()});