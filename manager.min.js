import{startManagerApp,startOverviewListener,startJobsListener,startStaffListener,startActivityListener}from"./manager-firebase.js";const navButtons=document.querySelectorAll(".nav-btn"),panels=document.querySelectorAll(".panel"),pageTitle=document.getElementById("pageTitle"),dateFilter=document.getElementById("dateFilter"),applyFilterBtn=document.getElementById("applyFilterBtn"),filterStatus=document.getElementById("filterStatus"),searchInput=document.getElementById("searchInput"),refreshJobsBtn=document.getElementById("refreshJobs");let currentDateRange="all",currentJobStatus="all",currentSearch="";function showPanel(e){panels.forEach(e=>e.classList.remove("active"));const t=document.getElementById(e);t&&t.classList.add("active"),navButtons.forEach(e=>e.classList.remove("active"));const a=document.querySelector(`.nav-btn[data-area="${e}"]`);a&&a.classList.add("active"),pageTitle.textContent=a?a.textContent:e,"overview"===e&&startOverviewListener(currentDateRange),"jobs"===e&&startJobsListener({status:currentJobStatus,search:currentSearch,dateRange:currentDateRange}),"staff"===e&&startStaffListener(currentDateRange),"activity"===e&&startActivityListener(currentDateRange)}navButtons.forEach(e=>{e.addEventListener("click",()=>showPanel(e.dataset.area))}),applyFilterBtn?.addEventListener("click",()=>{currentDateRange=dateFilter.value||"all";showPanel(document.querySelector(".panel.active")?.id||"overview")}),filterStatus?.addEventListener("change",()=>{currentJobStatus=filterStatus.value,startJobsListener({status:currentJobStatus,search:currentSearch,dateRange:currentDateRange})}),searchInput?.addEventListener("input",()=>{currentSearch=searchInput.value.trim().toLowerCase(),startJobsListener({status:currentJobStatus,search:currentSearch,dateRange:currentDateRange})}),refreshJobsBtn?.addEventListener("click",()=>{startJobsListener({status:currentJobStatus,search:currentSearch,dateRange:currentDateRange})}),startManagerApp(),showPanel("overview");